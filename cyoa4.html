<!DOCTYPE html>
<html>
  <head>
    <title>Adventure Game</title>
    <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background-color: #f5f5f5;
      font-family: Arial, sans-serif;
    }

    #game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      width: 400px;
      height: 400px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    #message {
      text-align: center;
      margin-bottom: 20px;
      font-size: 18px;
    }

    #options {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 20px;
    }

    .option-button,
    #continue-button,
    #play-again-button {
      margin-top: 15px;
      width: 220px;
      height: auto;
      padding: 12px 16px;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #continue-button,
    #play-again-button {
      margin-top: 150px;
      
    }
      
    .option-button:hover,
    #continue-button:hover,
    #play-again-button:hover {
      background-color: #a020f0;
    }

    #name-input {
      display: none;
      margin-top: 10px;
    }

    #name-field {
      width: 220px;
      height: 32px;
      padding: 6px 8px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    #name-button {
      margin-top: 10px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: bold;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #name-button:hover {
      background-color: #a020f0;
    }

    #start-button {
      padding: 8px 16px;
      font-size: 14px;
      font-weight: bold;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #start-button:hover {
      background-color: #a020f0;
    }
    </style>
  </head>
  <body>
    <div id="message"></div>
    <div id="options"></div>
    <div id="name-input">
      <input type="text" id="name-field" placeholder="Enter your name" />
      <button id="name-button" onclick="saveName()">Save</button>
    </div>
    <button id="start-button" onclick="startGame()">Start</button>
    <button id="continue-button" onclick="continueGame()" style="display: none;">Continue</button>
    <button id="play-again-button" onclick="startGame()" style="display: none;">Play Again</button>

    <script>
      // Define your story object with scenes and options
      const story = {
        currentScene: "startGame",
        playerName: null,
        messages: [],
        messageIndex: 0,

        startGame: function() {
          this.playerName = null;
          this.messages = [
            "You have just woken up, you don't know where you are, or how you got there.",
            "You don't even remember your name!",
            "As you yawn and rub your eyes, you realize even a temporary name may be helpful..."
          ];
          this.messageIndex = 0;
          this.displayNextMessage();
        },

        displayNextMessage: function() {
          if (this.messageIndex < this.messages.length) {
            showMessage(this.messages[this.messageIndex]);

            if (this.messageIndex === this.messages.length - 1) {
              // Last message, show name input instead of continue button
              showNameInput();
            } else {
              showContinueButton();
            }

            this.messageIndex++;
          }
        },

        scene2: function() {
          showMessage("Thank you, " + this.playerName + ", your adventure begins now!");
          showMessage("As you look around and take in your surroundings, you find yourself in a small wooded enclave.");

          this.currentScene = "scene3";
          showOptions([
            { text: "Kick at the rusted lock, hoping it will open.", action: () => this.scene3(1) },
            { text: "Look around to see if there is anything you can use to open the chest.", action: () => this.scene3(2) },
            { text: "You know, this is someone's property, I should probably leave it alone.", action: () => this.scene3(3) }
          ]);
        },

        scene3: function(option) {
          switch (option) {
            case 1:
              showMessage("You kick at the rusted lock, but it doesn't budge. It seems sturdy.");
              this.currentScene = "scene4";
              showOptions([
                { text: "Look around to see if there is anything you can use to open the chest.", action: () => this.scene4(1) },
                { text: "You know, this is someone's property, I should probably leave it alone.", action: () => this.scene4(2) }
              ]);
              break;
            case 2:
              showMessage("You search the area and find a crowbar hidden behind a tree. It might come in handy.");
              this.currentScene = "scene4";
              showOptions([
                { text: "Try using the crowbar to open the chest.", action: () => this.scene4(1) },
                { text: "You know, this is someone's property, I should probably leave it alone.", action: () => this.scene4(2) }
              ]);
              break;
            case 3:
              showMessage("You decide it's best not to meddle with someone else's property and leave the chest alone.");
              this.currentScene = "endGame";
              showEndMessage();
              break;
            default:
              showMessage("Please choose a valid option.");
              break;
          }
        },

        scene4: function(option) {
          switch (option) {
            case 1:
              showMessage("You use the crowbar to pry open the chest. Inside, you find a map and a key.");
              showMessage("The map reveals the location of a hidden treasure nearby. Excited, you decide to go searching for it.");
              this.currentScene = "endGame";
              showEndMessage();
              break;
            case 2:
              showMessage("You decide it's best not to meddle with someone else's property and leave the chest alone.");
              this.currentScene = "endGame";
              showEndMessage();
              break;
            default:
              showMessage("Please choose a valid option.");
              break;
          }
        },

        endGame: function() {
          showMessage("Congratulations, you have reached the end of the game!");
          showOptions([{ text: "Play Again", action: () => this.startGame() }]);
          this.currentScene = "startGame";
        },
      };

      // Helper functions for displaying messages, options, and managing user input

      function showMessage(message) {
        const messageElement = document.getElementById("message");
        messageElement.textContent = message + "\n";

        const optionsElement = document.getElementById("options");
        optionsElement.innerHTML = "";
      }

      function showOptions(options) {
        const optionsElement = document.getElementById("options");
        optionsElement.innerHTML = "";

        options.forEach((option, index) => {
          const button = document.createElement("button");
          button.innerText = option.text;
          button.className = "option-button";
          button.onclick = option.action;
          optionsElement.appendChild(button);
        });

        const continueButton = document.getElementById("continue-button");
        continueButton.style.display = "none";
      }

      function showContinueButton() {
        const continueButton = document.getElementById("continue-button");
        continueButton.style.display = "inline-block";
      }

      function startGame() {
        document.getElementById("start-button").style.display = "none";
        document.getElementById("continue-button").style.display = "none";
        document.getElementById("play-again-button").style.display = "none";
        document.getElementById("name-input").style.display = "none";
        document.getElementById("message").textContent = "";
        document.getElementById("options").textContent = "";
        story.startGame();
      }

      function continueGame() {
        story.displayNextMessage();
      }

      function showNameInput() {
        const nameInput = document.getElementById("name-input");
        nameInput.style.display = "block";
        const continueButton = document.getElementById("continue-button");
        continueButton.style.display = "none";
      }

      function saveName() {
        const nameField = document.getElementById("name-field");
        const playerName = nameField.value;
        if (playerName.trim() === "") {
          showMessage("Please enter a valid name.");
        } else {
          story.playerName = playerName;
          document.getElementById("name-input").style.display = "none";
          story.scene2();
        }
      }

      function showEndMessage() {
        document.getElementById("continue-button").style.display = "none";
        document.getElementById("play-again-button").style.display = "inline-block";
      }
    </script>
  </body>
</html>
