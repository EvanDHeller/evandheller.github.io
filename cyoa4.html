<!DOCTYPE html>
<html>
  <head>
    <title>Adventure Game</title>
    <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background-color: #f5f5f5;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    #game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      width: 400px;
      height: 400px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    #message {
      text-align: center;
      margin-bottom: 20px;
      font-size: 18px;
    }

    #options {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 20px;
      padding-left: 20px;
      padding-right: 20px;
    }

    .option-button,
    #continue-button,
    #play-again-button {
      margin-top: 15px;
      width: 220px;
      height: auto;
      padding: 12px 16px;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #continue-button,
    #play-again-button {
      margin-top: 150px;
      position: absolute;
      
    }
      
    .option-button:hover,
    #continue-button:hover,
    #play-again-button:hover {
      background-color: #a020f0;
    }

    #name-input {
      display: none;
      margin-top: 150px;
      position: absolute;
    }

    #name-field {
      width: 220px;
      height: 32px;
      padding: 6px 8px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    #name-button {
      margin-top: 10px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: bold;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #name-button:hover {
      background-color: #a020f0;
    }

    #start-button {
      padding: 8px 16px;
      font-size: 14px;
      font-weight: bold;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      position: absolute;
    }

    #start-button:hover {
      background-color: #a020f0;
    }


      .image-container {
        margin-top: 20px;
        text-align: center;
      }

      .message-image {
        max-width: 300px;
        max-height: 300px;
      }
      
      #message-image {
        display: block;
        margin: 0 auto;
        max-width: 300px;
        max-height: 300px;
      }
      
    </style>
   </head>
  <body>
    <h1>Text Adventure Game</h1>
    <div id="message"></div>
    <img class="message-image" id="message-image" src="" alt="" />
    <div id="options"></div>
    <button id="start-button" onclick="startGame()">Start Game</button>
    <button id="continue-button" onclick="continueGame()">Continue</button>
    <div id="name-input">
      <input type="text" id="name-field" placeholder="Enter your name" />
      <button id="name-button" onclick="saveName()">Save</button>
    </div>
    <button id="play-again-button" onclick="window.location.reload()">Play Again</button>

    <script>
      const story = {
        playerName: "",
        currentScene: null,

        startGame: function () {
          showMessage("You wake up in a dense forest, not knowing how you got there.");
          this.currentScene = "scene1";
          showOptions([
            {
              text: "Look around",
              action: () => this.scene1(),
            },
          ]);
        },

        displayNextMessage: function () {
          if (this.currentScene) {
            this[this.currentScene]();
          }
        },

        scene1: function () {
          showMessage("You look around and see trees stretching out in every direction.");
          showMessage("There is a small path to the east.");
          showMessage("What do you do?");
          this.currentScene = "scene2";
          showOptions([
            {
              text: "Follow the path to the east.",
              action: () => this.scene2(),
            },
            {
              text: "Stay put and keep observing.",
              action: () => this.scene2(),
            },
          ]);
        },

        scene2: function () {
          showMessage("As you continue along the path, you come across an abandoned chest.");
          showMessage("What do you do?");
          this.currentScene = "scene3";
          showOptions([
            {
              text: "Try to open the chest.",
              action: () => this.scene3(),
            },
            {
              text: "Leave the chest and keep exploring.",
              action: () => this.scene4(4),
            },
          ]);
        },

        scene3: function () {
          showMessage("The chest is locked and seems to be in good condition.");
          showMessage("What do you do?");
          this.currentScene = "scene4";
          showOptions([
            {
              text: "Search the area for a key or something to help open the chest.",
              action: () => this.scene4(1),
            },
            {
              text: "Give up and continue exploring.",
              action: () => this.scene4(2),
            },
          ]);
        },

        scene4: function (choice) {
          switch (choice) {
            case 1:
              showMessage("After searching around, you find a small key hidden under a rock.");
              showMessage("You use the key to unlock the chest.");
              showMessage("Inside, you find a shiny gem and a map of the surrounding area.");
              this.currentScene = "scene5";
              showOptions([
                {
                  text: "Take the gem and map.",
                  action: () => this.scene5(),
                },
                {
                  text: "Leave the contents in the chest and continue exploring.",
                  action: () => this.scene5(),
                },
              ]);
              break;
            case 2:
              showMessage("You decide it's best to respect the property and leave the chest alone.");
              showMessage("You continue exploring the area.");
              this.currentScene = "scene6";
              showOptions([
                {
                  text: "Follow the path deeper into the woods.",
                  action: () => this.scene6(),
                },
              ]);
              break;
            case 4:
              showMessage("You decide it's best to respect the property and leave the chest alone.");
              showMessage("You continue exploring the area.");
              this.currentScene = "scene6";
              showOptions([
                {
                  text: "Follow the path deeper into the woods.",
                  action: () => this.scene6(),
                },
              ]);
              break;
          }
        },

        scene5: function () {
          showMessage("You take the gem and map from the chest.");
          showMessage("What do you do next?");
          this.currentScene = "scene6";
          showOptions([
            {
              text: "Follow the path deeper into the woods.",
              action: () => this.scene6(),
            },
            {
              text: "Return to where you woke up in the forest.",
              action: () => this.scene6(),
            },
          ]);
        },

        scene6: function () {
          showMessage("You follow the path for a while until you reach a small village.");
          showMessage("The villagers seem friendly and welcome you with open arms.");
          showMessage("They offer you a place to stay and tell you stories of the adventures that await in the surrounding lands.");
          showMessage("You feel excited to embark on your own adventure.");
          showMessage("The end.");

          this.currentScene = null;
          hideOptions();
          showPlayAgainButton();
        },
      };

      function showMessage(message) {
        const messageElement = document.getElementById("message");
        messageElement.innerHTML = message;
      }

      function showOptions(options) {
        const optionsElement = document.getElementById("options");
        optionsElement.innerHTML = "";

        options.forEach((option, index) => {
          const button = document.createElement("button");
          button.innerHTML = option.text;
          button.onclick = option.action;
          optionsElement.appendChild(button);
        });
      }

      function hideOptions() {
        const optionsElement = document.getElementById("options");
        optionsElement.innerHTML = "";
      }

      function showPlayAgainButton() {
        const playAgainButton = document.getElementById("play-again-button");
        playAgainButton.style.display = "block";
      }

      function startGame() {
        const startButton = document.getElementById("start-button");
        const continueButton = document.getElementById("continue-button");
        const nameInput = document.getElementById("name-input");

        startButton.style.display = "none";
        continueButton.style.display = "block";
        nameInput.style.display = "none";

        story.startGame();
      }

      function continueGame() {
        const startButton = document.getElementById("start-button");
        const continueButton = document.getElementById("continue-button");
        const nameInput = document.getElementById("name-input");

        startButton.style.display = "none";
        continueButton.style.display = "none";
        nameInput.style.display = "block";
      }

      function saveName() {
        const nameField = document.getElementById("name-field");
        const nameButton = document.getElementById("name-button");

        if (nameField.value !== "") {
          story.playerName = nameField.value;
          showMessage(`Welcome, ${story.playerName}!`);
          nameField.disabled = true;
          nameButton.disabled = true;
          continueButton.style.display = "none";
          showOptions([
            {
              text: "Continue the adventure",
              action: () => story.displayNextMessage(),
            },
          ]);
        } else {
          showMessage("Please enter a valid name.");
        }
      }
    </script>
  </body>
</html>
