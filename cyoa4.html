<!DOCTYPE html>
<html>
  <head>
    <title>Adventure Game</title>
    <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background-color: #f5f5f5;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }

    #game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      width: 400px;
      height: 400px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    #message {
      text-align: center;
      margin-bottom: 20px;
      font-size: 18px;
    }

    #options {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 20px;
      padding-left: 20px;
      padding-right: 20px;
    }

    .option-button,
    #continue-button,
    #play-again-button {
      margin-top: 15px;
      width: 220px;
      height: auto;
      padding: 12px 16px;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #continue-button,
    #play-again-button {
      margin-top: 150px;
      position: absolute;
      
    }
      
    .option-button:hover,
    #continue-button:hover,
    #play-again-button:hover {
      background-color: #a020f0;
    }

    #name-input {
      display: none;
      margin-top: 150px;
      position: absolute;
    }

    #name-field {
      width: 220px;
      height: 32px;
      padding: 6px 8px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    #name-button {
      margin-top: 10px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: bold;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #name-button:hover {
      background-color: #a020f0;
    }

    #start-button {
      padding: 8px 16px;
      font-size: 14px;
      font-weight: bold;
      text-transform: uppercase;
      color: #fff;
      background-color: #8768b5;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      position: absolute;
    }

    #start-button:hover {
      background-color: #a020f0;
    }


      .image-container {
        margin-top: 20px;
        text-align: center;
      }

      .message-image {
        max-width: 300px;
        max-height: 300px;
      }
    </style>
  </head>
  <body>
    <div id="message"></div>
    <div class="image-container">
      <img class="message-image" id="message-image" src="" alt="" />
    </div>
    <div id="options"></div>
    <div id="name-input" style="display: none;">
      <input type="text" id="name-field" placeholder="Enter your name" />
      <button id="name-button" onclick="saveName()">Save</button>
    </div>
    <button id="start-button" onclick="startGame()">Start</button>
    <button id="continue-button" onclick="continueGame()" style="display: none;">Continue</button>
    <button id="play-again-button" onclick="startGame()" style="display: none;">Play Again</button>

    <script>
      const story = {
        currentScene: "startGame",
        playerName: null,
        messages: [],
        messageIndex: 0,

        startGame: function () {
          this.playerName = null;
          this.messages = [
            "You have just woken up, you don't know where you are, or how you got there.",
            "You don't even remember your name!",
            "As you yawn and rub your eyes, you realize even a temporary name may be helpful...",
          ];
          this.messageIndex = 0;
          this.displayNextMessage();
        },

        displayNextMessage: function () {
          if (this.messageIndex < this.messages.length) {
            showMessage(this.messages[this.messageIndex]);
            this.messageIndex++;
          }
        },

        scene2: function () {
          showMessage(
            "Thank you, " + this.playerName + ", your adventure begins now!"
          );
          showMessage(
            "As you look around and take in your surroundings, you find yourself in a small wooded enclave."
          );

          this.currentScene = "scene3";
          showOptions([
            {
              text: "Kick at the rusted lock, hoping it will open.",
              action: () => this.scene3(1),
            },
            {
              text: "Look around to see if there is anything you can use to open the chest.",
              action: () => this.scene3(2),
            },
            {
              text: "You know, this is someone's property, I should probably leave it alone.",
              action: () => this.scene3(3),
            },
          ]);
        },

        scene3: function (option) {
          switch (option) {
            case 1:
              showMessage(
                "You kick at the rusted lock, but it doesn't budge. It seems sturdy."
              );
              this.currentScene = "scene4";
              showOptions([
                {
                  text: "Look around to see if there is anything you can use to open the chest.",
                  action: () => this.scene4(1),
                },
                {
                  text: "You know, this is someone's property, I should probably leave it alone.",
                  action: () => this.scene4(2),
                },
              ]);
              break;
            case 2:
              showMessage(
                "You search the area and find a crowbar hidden behind a nearby tree stump."
              );
              this.currentScene = "scene4";
              showOptions([
                {
                  text: "Use the crowbar to pry open the lock.",
                  action: () => this.scene4(3),
                },
                {
                  text: "You know, this is someone's property, I should probably leave it alone.",
                  action: () => this.scene4(2),
                },
              ]);
              break;
            case 3:
              showMessage(
                "You decide it's best to respect the property and leave the chest alone."
              );
              this.currentScene = "scene4";
              showOptions([
                {
                  text: "Look around to see if there is anything else of interest.",
                  action: () => this.scene4(4),
                },
                {
                  text: "You know, this is someone's property, I should probably leave.",
                  action: () => this.scene4(2),
                },
              ]);
              break;
          }
        },

        scene4: function (option) {
          switch (option) {
            case 1:
              showMessage(
                "You search the area and find a crowbar hidden behind a nearby tree stump."
              );
              this.currentScene = "scene5";
              showOptions([
                {
                  text: "Use the crowbar to pry open the lock.",
                  action: () => this.scene5(1),
                },
                {
                  text: "You know, this is someone's property, I should probably leave it alone.",
                  action: () => this.scene5(2),
                },
              ]);
              break;
            case 2:
              showMessage(
                "You decide it's best to respect the property and leave the chest alone."
              );
              this.currentScene = "scene5";
              showOptions([
                {
                  text: "Look around to see if there is anything else of interest.",
                  action: () => this.scene5(3),
                },
                {
                  text: "You know, this is someone's property, I should probably leave.",
                  action: () => this.scene5(2),
                },
              ]);
              break;
            case 3:
              showMessage("The lock gives way with a satisfying click.");
              showMessage("Inside the chest, you find a map and a key.");
              showMessage("The map seems to lead to a nearby village.");
              showMessage(
                "You wonder what adventures await you there."
              );
              showMessage(
                "With the key and map in hand, you set off toward the village."
              );
              this.currentScene = "scene6";
              showOptions([
                {
                  text: "Continue your journey toward the village.",
                  action: () => this.scene6(),
                },
              ]);
              break;
            case 4:
              showMessage("You find a small path leading deeper into the woods.");
              this.currentScene = "scene6";
              showOptions([
                {
                  text: "Follow the path deeper into the woods.",
                  action: () => this.scene6(),
                },
              ]);
              break;
          }
        },

        scene5: function (option) {
          switch (option) {
            case 1:
              showMessage("The lock gives way with a satisfying click.");
              showMessage("Inside the chest, you find a map and a key.");
              showMessage("The map seems to lead to a nearby village.");
              showMessage(
                "You wonder what adventures await you there."
              );
              showMessage(
                "With the key and map in hand, you set off toward the village."
              );
              this.currentScene = "scene6";
              showOptions([
                {
                  text: "Continue your journey toward the village.",
                  action: () => this.scene6(),
                },
              ]);
              break;
            case 2:
              showMessage("You decide it's best to respect the property and leave the chest alone.");
              showMessage("You continue exploring the area.");
              this.currentScene = "scene6";
              showOptions([
                {
                  text: "Follow the path deeper into the woods.",
                  action: () => this.scene6(),
                },
              ]);
              break;
          }
        },

        scene6: function () {
          showMessage(
            "You follow the path for a while until you reach a small village."
          );
          showMessage(
            "The villagers seem friendly and welcome you with open arms."
          );
          showMessage(
            "They offer you a place to stay and tell you stories of the adventures that await in the surrounding lands."
          );
          showMessage("You feel excited to embark on your own adventure.");
          showMessage("The end.");

          this.currentScene = null;
          hideOptions();
          showPlayAgainButton();
        },
      };

      function showMessage(message) {
        const messageElement = document.getElementById("message");
        messageElement.innerHTML = message;
      }

      function showOptions(options) {
        const optionsElement = document.getElementById("options");
        optionsElement.innerHTML = "";

        options.forEach((option, index) => {
          const button = document.createElement("button");
          button.innerHTML = option.text;
          button.onclick = option.action;
          optionsElement.appendChild(button);
        });
      }

      function hideOptions() {
        const optionsElement = document.getElementById("options");
        optionsElement.innerHTML = "";
      }

      function showPlayAgainButton() {
        const playAgainButton = document.getElementById("play-again-button");
        playAgainButton.style.display = "block";
      }

      function startGame() {
        const startButton = document.getElementById("start-button");
        const continueButton = document.getElementById("continue-button");
        const nameInput = document.getElementById("name-input");

        startButton.style.display = "none";
        continueButton.style.display = "block";
        nameInput.style.display = "none";

        story.startGame();
      }

      function continueGame() {
        const startButton = document.getElementById("start-button");
        const continueButton = document.getElementById("continue-button");
        const nameInput = document.getElementById("name-input");

        startButton.style.display = "none";
        continueButton.style.display = "block";
        nameInput.style.display = "none";

        story.displayNextMessage();
      }

      function saveName() {
        const nameField = document.getElementById("name-field");
        const nameButton = document.getElementById("name-button");
        const nameInput = document.getElementById("name-input");

        story.playerName = nameField.value;

        nameField.disabled = true;
        nameButton.disabled = true;
        nameInput.style.display = "none";

        story.scene2();
      }
    </script>
  </body>
</html>
